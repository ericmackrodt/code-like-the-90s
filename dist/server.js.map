{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/cache-control.ts","webpack:///./src/components/app.tsx","webpack:///./src/components/button.tsx","webpack:///./src/components/header.tsx","webpack:///./src/components/main.tsx","webpack:///./src/components/menu-item.tsx","webpack:///./src/components/menu.tsx","webpack:///./src/constants.ts","webpack:///./src/db.ts","webpack:///./src/mime-types.ts","webpack:///./src/props.ts","webpack:///./src/server.ts","webpack:///external \"fs\"","webpack:///external \"http\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\""],"names":[],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server.ts\");\n","export function control(isProd: boolean, days: number): string {\n    if (days === 0 || !isProd) {\n        return 'public, no-cache, no-store, must-revalidate';\n    }\n    const sec = days * 24 * 60 * 60;\n    return `public, max-age=${sec}`;\n}\n","import * as React from 'react';\n\nimport Header from './header';\nimport Button from './button';\nimport Main from './main';\nimport Menu from './menu';\n\ninterface AppState {\n    listItems: string[];\n    disabled: boolean;\n}\n\nexport default class App extends React.Component<AppProps, AppState> {\n    constructor(props: AppProps) {\n        super(props);\n        // We initialise its state by using the `props` that were passed in when it\n        // was first rendered. We also want the button to be disabled until the\n        // App component has fully mounted on the DOM\n        this.state = { listItems: this.props.listItems, disabled: true };\n    }\n\n    // Once the App component has been mounted, we can enable the button\n    componentDidMount() {\n        this.setState({ disabled: false });\n    }\n\n    // Update the state whenever its clicked by adding a new item to\n    // the list - imagine this being updated with the results of AJAX calls, etc\n    handleAdd = () => {\n        this.setState(prevState => ({\n            listItems: prevState.listItems.concat('Item ' + prevState.listItems.length),\n        }));\n    };\n\n    handleSort = () => {\n        this.setState(prevState => ({\n            listItems: prevState.listItems.sort(),\n        }));\n    };\n\n    render() {\n        const { menuItems } = this.props;\n        const { listItems, disabled } = this.state;\n\n        return (\n            <div>\n                <Menu items={menuItems} />\n                <Main>\n                    <Header title=\"Hello React\" sub=\"This is an example using React & TypeScript\" />\n                    <ul>\n                        {listItems.map((item, i) => (\n                            <li key={i}>{item}</li>\n                        ))}\n                    </ul>\n                    <Button\n                        onClick={this.handleAdd}\n                        disabled={disabled}\n                        type=\"primary\"\n                        text=\"Add Item\"\n                    />\n                    <span>&nbsp;</span>\n                    <Button\n                        onClick={this.handleSort}\n                        disabled={disabled}\n                        type=\"warning\"\n                        text=\"Sort Items\"\n                    />\n                </Main>\n            </div>\n        );\n    }\n}\n","import * as React from 'react';\n\ninterface ButtonProps {\n    type: 'default' | 'primary' | 'success' | 'info' | 'warning' | 'danger';\n    text: string;\n    disabled?: boolean;\n    onClick: (e: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nexport default function Button(props: ButtonProps) {\n    const { type, text, disabled, onClick } = props;\n\n    return (\n        <button\n            type=\"button\"\n            onClick={onClick}\n            disabled={disabled || false}\n            className={'btn btn-' + type}\n        >\n            {text}\n        </button>\n    );\n}\n","import * as React from 'react';\n\ninterface Props {\n    title: string;\n    sub: string;\n}\n\nexport default function Header(props: Props) {\n    const { title, sub } = props;\n    return (\n        <header role=\"banner\">\n            <h1>{title}</h1>\n            <p>{sub}</p>\n        </header>\n    );\n}\n","import * as React from 'react';\n\nexport default function Main(props: { children: React.ReactNode[] }) {\n    const { children } = props;\n    return (\n        <div role=\"main\" className=\"container\">\n            {children}\n        </div>\n    );\n}\n","import * as React from 'react';\n\nexport default function MenuItem(props: MenuItemProps) {\n    const { id, href, text } = props;\n    return (\n        <li>\n            <a id={id} href={href}>\n                {text}\n            </a>\n        </li>\n    );\n}\n","import * as React from 'react';\nimport MenuItem from './menu-item';\n\ninterface Props {\n    items: MenuItemProps[];\n}\n\nexport default function Menu(props: Props) {\n    const { items } = props;\n    return (\n        <nav className=\"navbar navbar-default\">\n            <div className=\"container\">\n                <ul className=\"nav navbar-nav\">\n                    {items.map((o, i) => (\n                        <MenuItem key={o.id} id={o.id} text={o.text} href={o.href} />\n                    ))}\n                </ul>\n            </div>\n        </nav>\n    );\n}\n","export const faviconUrl =\n    'data:image/x-icon;base64,AAABAAEAIB0AAAEAIAAcDwAAFgAAACgAAAAgAAAAOgAAAAEAIAAAAAAAgA4AAMMOAADDDgAAAAAAAAAAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////79/f/y6O3/7d7l//Pp7v/+/v7//////////////////////////////////v39//Po7f/t3uX/8+nu//79/v/////////////////////////////////////////////////////////////////////////////////7+Pr/1rTF/7Nzkv+sZoj/tHWU/8ugtf/u3+b///////////////////7//+zc4//KnbP/tHST/6xmiP+0dZT/2bjI//z6+////////////////////////////////////////////////////////////////////////////+DG0v+oXoL/xZSs/9u9y//KnbP/rmqM/69rjP/ZuMj/+/j6//r2+P/WtMT/rmmK/69sjf/LoLX/273L/8OQqf+oX4P/48zX///////////////////////////////////////////////////////////////////////9/Pz/voei/7uBnf/48fT///////7+/v/w5Or/xpau/6hfg//ImbD/xpat/6hfg//ImrH/8ubs///+/v//////9u7y/7h8mf/Cjaf//v3+//////////////////////////////////////////////////////////////////r2+P+vbI3/z6a6///////////////////////7+Pn/z6a6/6FSeP+iU3r/0q2///z5+///////////////////////y5+0/7Nykf/8+fr/////////////////////////////////////////////////////////////////9e3x/65pi//VscP///////////////////////r3+f/HmK//pFh9/6VZfv/Ln7T//Pn6///////////////////////Rqb3/sG2O//jx9P/////////////////////////////////////////////////////////////////48vX/rWmK/9Ksv////////////////////v7/06/B/6lhhP/Vs8T/1LDB/6phhf/Ws8T//////////////////////86kuf+wbY7/+vb4//////////////////////////////////////////////////////////////////z5+/+ycZH/yp6z//79/f/17fH/7uDn/9i2x/+oX4P/tHaU/9u9zP/bvMv/s3KR/6pihf/ausr/7uHn//bu8v/9/P3/xpeu/7V3lf/9/Pz/////////////////////////////////////////////////////////////////+fP2/7uBnv+ua4z/v4mj/7d6l/+wbY3/o1V7/6JTef+mW4D/pFh9/6RYff+mW3//oVJ5/6NWfP+wbo7/t3qY/7+Jo/+uaIr/voij//r19///////////////////////////////////////////////////////9Ozw/9i3x/+2eZf/o1Z8/55Ndf+0dZT/xpau/7Fujv+qYoX/38LQ/+/h6P/y5+z/8ubs/+/h6P/cv83/qWCE/7FxkP/Gla3/s3KS/55MdP+kV33/uHuZ/9q7yv/27vH//////////////////////////////////v7+/+TN2P+3e5j/qF+D/8KOqP/No7j/plyA/+DF0v/n0tz/q2SH/9Gpvf///f7///////r+///6/v////////79/f/OpLj/rGaI/+nW3//cvs3/p12B/8+muv/AjKX/qF6C/7l+m//m0dv///////////////////////7+/v/ew9D/rGWI/7uAnf/o1N3/+/n6//fx9P+5fZr/vYah/76Hov+1d5X/9+/z//f9//+v4P//acX//2vF//+04v//+v7///Xs8P+zc5L/wIul/7uBnv+7gp7/+fT3//v3+f/m0Nv/uHya/61oiv/hyNT/////////////////7+Lo/7Jykf/AiqT/9u7y/////////////////9Krvv+iU3r/pVp//9y/zf//////teL//0K2//82sf//NrH//0W3//+/5v///////9m5yf+lWX7/o1V7/9Wyw//////////////////17PD/vYWg/7V2lP/z6O3////////////ew9D/pluA/+rZ4f//////////////////////7Nvk/6lgg/+2eJb/9e3x//////96zP//NbH//ziy//84sv//NbH//4PP////////8+nu/7Nykv+rZIf/7uDn///////////////////////n09z/pVp+/+XP2v///////////+HH1P+nXYH/5M3Y///////////////////////n093/p1yA/7Fvj//y5+z//////4PP//82sf//OLL//ziy//82sf//itL////////w4+n/rmuL/6lgg//q2OH//////////////////////+DG0/+nXIH/59Pc////////////9Ovv/7l/nP+1dpX/7N3k/////////////v3+/8ygtf+kWH3/p12B/9OuwP//////y+v//1G8//82sf//NrH//1S9///Q7f////7+/9CovP+nXYH/pFh9/8+nu////v7////////////r2eL/s3KS/7yEn//38PP/////////////////6tjh/7V2lf+uaov/17XF//Tq7v/z6e7/tHOT/8iZsP/ImbD/r2uM//Dj6f/+////z+z//4/U//+Q1P//z+z///7////u3+b/rWiJ/8uetP/Ek6v/tniW//Xt8f/y6O3/1bHD/61oiv+3epj/7Nzk////////////////////////////7+Lo/8aWrf+pYYT/tHST/72Fof+kV33/38LQ/+rX4P+uaov/x5eu//z5+v//////////////////////+/f5/8SSq/+vbI3/69ri/9u8y/+kV33/vYei/7Nykv+qYoX/yJqw//Hl6////////////////////////////////////////Pr7/+nV3//HmK//qF+C/59Odf+oXoL/t3qY/61piv+lWH3/zqS4/93Bz//gxtP/4MbS/93Az//MoLX/pFd8/65qjP+2eZf/qF2B/59Ndf+pYYT/yZux/+rY4f/8+vv///////////////////////////////////////////////////////37/P+7gp7/t3qX/9Ktv//Gla3/uoCd/6lgg/+eTHT/o1Z8/6RXfP+kV33/o1V7/55MdP+qYoX/u4Ke/8aWrv/Trb//tHWU/7+Jo//+/f3/////////////////////////////////////////////////////////////////+/j5/7Btjf/No7j///////z5+//59Pb/59Pd/7Btjv+2eZf/6dfg/+jV3v+0dJP/snGQ/+nW4P/59Pb//Pr7///////Jm7H/s3KR//z6+//////////////////////////////////////////////////////////////////38PT/rmmK/9OuwP//////////////////////38TR/6phhf/Hl6//xZSs/6tkhv/hyNX//////////////////////8+muv+wbY7/+fT3//////////////////////////////////////////////////////////////////bu8v+uaYr/1LDC///////////////////////+/v7/0au9/6JTef+iVHr/1LHC////////////////////////////0Ki8/7Btjv/48vX/////////////////////////////////////////////////////////////////+/j5/7FvkP/Mobb///////////////////////Tr7//Ekqr/pFd8/6RXfP/Hl67/9u7y///////////////////////ImbD/tXWU//36+//////////////////////////////////////////////////////////////////+/f3/xJKr/7R1lP/x5ev//vz9//n09v/jzNf/t3uY/6xmiP/Yt8f/1bPE/6tkh/+6fpv/5c/a//n09//+/f3/7uDn/7Jxkf/ImbD//v7+///////////////////////////////////////////////////////////////////////p1t//rGeJ/7d6mP/JnLL/uoCd/6hegv+7gp7/59Pd///////+/v7/5dDa/7l/m/+oX4P/u4Of/8mcs/+1d5b/rmqL/+zb4/////////////////////////////////////////////////////////////////////////////38/f/iytb/uoCc/65pi/+7gp7/2rvK//Xt8f//////////////////////9Ovw/9m5yP+6gJz/rmmK/7yDnv/kzdj//v39////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=';\nexport const stylesUrl = '/style.min.css';\nexport const browserUrl = '/browser.js';\nexport const browserMapUrl = '/browser.js.map';\nexport const propsUrl = '/app-props.json';\nexport const containerId = 'content';\n","export function getListItems(): string[] {\n    // This dummy data is used to demonstrate\n    // all data is sanitized safely, however\n    // you could imagine this would be data from a\n    // database in a real app\n    return [\n        'Item 0',\n        'Item 1',\n        'Item <script>alert(hack);</script>',\n        'Item <!--injected!-->',\n        'Just click to add more <b>bold</b>',\n    ];\n}\n\nexport function getMenuItems(): MenuItemProps[] {\n    // These menu items represent each <li>\n    // in the top menu bar, typically static data\n    return [\n        {\n            id: 'home',\n            href: '#',\n            text: 'Home',\n        },\n        {\n            id: 'react-docs',\n            href: 'https://reactjs.org/',\n            text: 'React Docs',\n        },\n        {\n            id: 'typescript-docs',\n            href: 'https://www.typescriptlang.org/',\n            text: 'TypeScript Docs',\n        },\n        {\n            id: 'ceriously',\n            href: 'https://www.ceriously.com',\n            text: 'Ceriously',\n        },\n        {\n            id: 'github',\n            href: 'https://github.com/styfle/react-server-example-tsx',\n            text: 'Fork Me',\n        },\n    ];\n}\n","import { extname } from 'path';\n\nconst data: { [ext: string]: string } = {\n    '.js': 'application/javascript',\n    '.map': 'application/javascript',\n    '.json': 'application/json',\n    '.css': 'text/css',\n    '.html': 'text/html',\n    '.txt': 'text/plain',\n};\n\nexport function lookup(path: string): string {\n    const ext = extname(path);\n    const mime = data[ext];\n    if (!mime) {\n        throw new Error(`No mime type for file: ${path}`);\n    }\n    return mime;\n}\n","import { getListItems, getMenuItems } from './db';\n\nexport function fetchProps(): AppProps {\n    return { listItems: getListItems(), menuItems: getMenuItems() };\n}\n","import { createServer, IncomingMessage, ServerResponse } from 'http';\nimport { createFactory, version as reactVersion } from 'react';\nimport { renderToNodeStream, version as reactDomVersion } from 'react-dom/server';\nimport { createReadStream } from 'fs';\nimport App from './components/app';\nimport { fetchProps } from './props';\nimport { lookup } from './mime-types';\nimport { control } from './cache-control';\nimport {\n    faviconUrl,\n    stylesUrl,\n    browserUrl,\n    browserMapUrl,\n    propsUrl,\n    containerId,\n} from './constants';\n\nconsole.log('Server booting...');\nconst isProd = process.env.NODE_ENV === 'production';\nconsole.log('Production optimization enabled? ', isProd);\nconst AppFactory = createFactory(App);\nconst PORT = process.env.PORT || 3007;\nconst suffix = isProd ? '.production.min.js' : '.development.js';\n\nexport default async function handler(req: IncomingMessage, res: ServerResponse) {\n    let { httpVersion, method, url } = req;\n    console.log(`${httpVersion} ${method} ${url}`);\n    if (!url || url === '/') {\n        url = 'index.html';\n    }\n    try {\n        if (url === 'index.html') {\n            res.setHeader('Content-Type', lookup(url));\n            res.setHeader('Cache-Control', control(isProd, 1));\n            res.write(`<!DOCTYPE html>\n            <html>\n            <head>\n                <meta charset=\"utf-8\" />\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                <link href=\"${faviconUrl}\" rel=\"icon\" type=\"image/x-icon\" />\n                <title>React Example</title>\n                <link rel=\"stylesheet\" href=\"${stylesUrl}\" />\n            </head>\n            <body>\n            <div id=\"${containerId}\">`);\n            const stream = renderToNodeStream(AppFactory(fetchProps()));\n            stream.pipe(\n                res,\n                { end: false },\n            );\n            stream.on('end', () => {\n                res.end(`</div>\n            </body>\n            </html>`);\n            });\n        } else if (url === propsUrl) {\n            res.setHeader('Content-Type', lookup(url));\n            res.setHeader('Cache-Control', control(isProd, 0));\n            res.end(JSON.stringify(fetchProps()));\n        } else if (url === stylesUrl) {\n            res.setHeader('Content-Type', lookup(url));\n            res.setHeader('Cache-Control', control(isProd, 7));\n            const file = `./src/${url}`;\n            createReadStream(file).pipe(res);\n        } else if (url === browserUrl || url === browserMapUrl) {\n            res.setHeader('Content-Type', lookup(url));\n            res.setHeader('Cache-Control', control(isProd, 7));\n            const file = `./dist${url}`;\n            createReadStream(file).pipe(res);\n        } else {\n            url = 'notfound.txt';\n            res.setHeader('Content-Type', lookup(url));\n            res.setHeader('Cache-Control', control(isProd, 0));\n            res.statusCode = 404;\n            res.end('404 Not Found');\n        }\n    } catch (e) {\n        console.error(e);\n        url = 'notfound.txt';\n        res.setHeader('Content-Type', lookup(url));\n        res.setHeader('Cache-Control', control(isProd, 0));\n        res.statusCode = 500;\n        res.end('500 Internal Error');\n    }\n}\n\nif (!isProd) {\n    createServer(handler).listen(PORT, () => {\n        console.log(`Listening on ${PORT}...`);\n    });\n}\n","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");"],"sourceRoot":""}